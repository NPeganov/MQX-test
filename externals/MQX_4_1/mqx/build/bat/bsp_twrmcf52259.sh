#!/bin/sh

# expect forward slash paths
ROOTDIR="${1}"
OUTPUTDIR="${2}"
TOOL="${3}"

# remove processor expert files if exists
rm -rf "${OUTPUTDIR}/Generated_Code"
rm -rf "${OUTPUTDIR}/Sources"

# copy common files
mkdir -p "${OUTPUTDIR}"
mkdir -p "${OUTPUTDIR}/"
mkdir -p "${OUTPUTDIR}/.."
cp -f "${ROOTDIR}/mqx/source/io/lwgpio/lwgpio.h" "${OUTPUTDIR}/lwgpio.h"
cp -f "${ROOTDIR}/mqx/source/io/rtc/rtc_mcf52xx.h" "${OUTPUTDIR}/rtc_mcf52xx.h"
cp -f "${ROOTDIR}/mqx/source/io/pcflash/ata.h" "${OUTPUTDIR}/ata.h"
cp -f "${ROOTDIR}/mqx/source/io/pcflash/pcflash.h" "${OUTPUTDIR}/pcflash.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/enet_rev.h" "${OUTPUTDIR}/enet_rev.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/mcf5xxx_fec/mcf5xxx_fec_rev.h" "${OUTPUTDIR}/mcf5xxx_fec_rev.h"
cp -f "${ROOTDIR}/mqx/source/io/io_mem/io_mem.h" "${OUTPUTDIR}/io_mem.h"
cp -f "${ROOTDIR}/mqx/source/io/spi_legacy/spi.h" "${OUTPUTDIR}/spi.h"
cp -f "${ROOTDIR}/mqx/source/io/gpio/mcf5225/io_gpio_mcf5225.h" "${OUTPUTDIR}/io_gpio_mcf5225.h"
cp -f "${ROOTDIR}/mqx/source/io/lwgpio/lwgpio_mcf5225.h" "${OUTPUTDIR}/lwgpio_mcf5225.h"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/bsp.h" "${OUTPUTDIR}/bsp.h"
cp -f "${ROOTDIR}/mqx/source/io/sdcard/sdcard_spi/sdcard_spi.h" "${OUTPUTDIR}/sdcard_spi.h"
cp -f "${ROOTDIR}/mqx/source/io/flashx/freescale/flash_mcf52xx.h" "${OUTPUTDIR}/flash_mcf52xx.h"
cp -f "${ROOTDIR}/mqx/source/io/usb/if_host_khci.h" "${OUTPUTDIR}/if_host_khci.h"
cp -f "${ROOTDIR}/mqx/source/include/mqx.h" "${OUTPUTDIR}/mqx.h"
cp -f "${ROOTDIR}/mqx/source/io/serial/serl_mcf52xx.h" "${OUTPUTDIR}/serl_mcf52xx.h"
cp -f "${ROOTDIR}/mqx/source/io/flashx/freescale/flash_mcf5225.h" "${OUTPUTDIR}/flash_mcf5225.h"
cp -f "${ROOTDIR}/mqx/source/io/serial/serial.h" "${OUTPUTDIR}/serial.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/enet.h" "${OUTPUTDIR}/enet.h"
cp -f "${ROOTDIR}/mqx/source/io/pccard/pccardflexbus.h" "${OUTPUTDIR}/pccardflexbus.h"
cp -f "${ROOTDIR}/mqx/source/io/flashx/flashx.h" "${OUTPUTDIR}/flashx.h"
cp -f "${ROOTDIR}/mqx/source/io/pcb/mqxa/pcbmqxav.h" "${OUTPUTDIR}/pcbmqxav.h"
cp -f "${ROOTDIR}/mqx/source/io/usb/if_dev_khci.h" "${OUTPUTDIR}/if_dev_khci.h"
cp -f "${ROOTDIR}/mqx/source/io/usb/if_host_ehci.h" "${OUTPUTDIR}/if_host_ehci.h"
cp -f "${ROOTDIR}/mqx/source/io/tfs/tfs.h" "${OUTPUTDIR}/tfs.h"
cp -f "${ROOTDIR}/mqx/source/io/pcflash/apcflshpr.h" "${OUTPUTDIR}/apcflshpr.h"
cp -f "${ROOTDIR}/mqx/source/io/pcb/mqxa/pcb_mqxa.h" "${OUTPUTDIR}/pcb_mqxa.h"
cp -f "${ROOTDIR}/mqx/source/io/gpio/io_gpio.h" "${OUTPUTDIR}/io_gpio.h"
cp -f "${ROOTDIR}/mqx/source/io/can/flexcan/flexcan.h" "${OUTPUTDIR}/flexcan.h"
cp -f "${ROOTDIR}/mqx/source/io/usb/if_dev_ehci.h" "${OUTPUTDIR}/if_dev_ehci.h"
cp -f "${ROOTDIR}/mqx/source/io/tchres/tchres.h" "${OUTPUTDIR}/tchres.h"
cp -f "${ROOTDIR}/config/common/small_ram_config.h" "${OUTPUTDIR}/../small_ram_config.h"
cp -f "${ROOTDIR}/mqx/source/io/spi_legacy/spi_mcf5xxx_qspi.h" "${OUTPUTDIR}/spi_mcf5xxx_qspi.h"
cp -f "${ROOTDIR}/mqx/source/io/rtc/rtc.h" "${OUTPUTDIR}/rtc.h"
cp -f "${ROOTDIR}/mqx/source/io/pipe/io_pipe.h" "${OUTPUTDIR}/io_pipe.h"
cp -f "${ROOTDIR}/mqx/source/io/pcb/io_pcb.h" "${OUTPUTDIR}/io_pcb.h"
cp -f "${ROOTDIR}/config/common/maximum_config.h" "${OUTPUTDIR}/../maximum_config.h"
cp -f "${ROOTDIR}/mqx/source/io/usb/usb_bsp.h" "${OUTPUTDIR}/usb_bsp.h"
cp -f "${ROOTDIR}/mqx/source/io/adc/adc.h" "${OUTPUTDIR}/adc.h"
cp -f "${ROOTDIR}/mqx/source/io/timer/timer_pit.h" "${OUTPUTDIR}/timer_pit.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/phy/phy_ksz8041.h" "${OUTPUTDIR}/phy_ksz8041.h"
cp -f "${ROOTDIR}/mqx/source/io/adc/mcf522xx/adc_mcf522xx.h" "${OUTPUTDIR}/adc_mcf522xx.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/ethernet.h" "${OUTPUTDIR}/ethernet.h"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/twrmcf52259.h" "${OUTPUTDIR}/twrmcf52259.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/enet_wifi.h" "${OUTPUTDIR}/enet_wifi.h"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/bsp_rev.h" "${OUTPUTDIR}/bsp_rev.h"
cp -f "${ROOTDIR}/mqx/source/io/io_null/io_null.h" "${OUTPUTDIR}/io_null.h"
cp -f "${ROOTDIR}/mqx/source/io/i2c/i2c_mcf52xx.h" "${OUTPUTDIR}/i2c_mcf52xx.h"
cp -f "${ROOTDIR}/mqx/source/io/pccard/apccard.h" "${OUTPUTDIR}/apccard.h"
cp -f "${ROOTDIR}/config/twrmcf52259/user_config.h" "${OUTPUTDIR}/../user_config.h"
cp -f "${ROOTDIR}/mqx/source/io/enet/mcf5xxx_fec/mcf5225_fec.h" "${OUTPUTDIR}/mcf5225_fec.h"
cp -f "${ROOTDIR}/mqx/source/io/i2c/i2c.h" "${OUTPUTDIR}/i2c.h"
cp -f "${ROOTDIR}/config/common/verif_enabled_config.h" "${OUTPUTDIR}/../verif_enabled_config.h"
cp -f "${ROOTDIR}/mqx/source/io/sdcard/sdcard.h" "${OUTPUTDIR}/sdcard.h"
cp -f "${ROOTDIR}/mqx/source/io/adc/adc_conf.h" "${OUTPUTDIR}/adc_conf.h"
cp -f "${ROOTDIR}/mqx/source/io/int_ctrl/int_ctrl_mcf5225.h" "${OUTPUTDIR}/int_ctrl_mcf5225.h"
cp -f "${ROOTDIR}/config/common/smallest_config.h" "${OUTPUTDIR}/../smallest_config.h"


# cw10 files
if [ "${TOOL}" = "cw10" ]; then
mkdir -p "${OUTPUTDIR}/"
mkdir -p "${OUTPUTDIR}/../../dbg"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/cw/extmram.lcf" "${OUTPUTDIR}/extmram.lcf"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/cw/intflash.lcf" "${OUTPUTDIR}/intflash.lcf"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/cw/intram.lcf" "${OUTPUTDIR}/intram.lcf"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/cw/dbg/twrmcf52259.cfg" "${OUTPUTDIR}/../../dbg/twrmcf52259.cfg"
cp -f "${ROOTDIR}/mqx/source/bsp/twrmcf52259/cw/dbg/twrmcf52259.mem" "${OUTPUTDIR}/../../dbg/twrmcf52259.mem"
mkdir -p "${OUTPUTDIR}/Generated_Code"
mkdir -p "${OUTPUTDIR}/Sources"
:
fi


